<!DOCTYPE html>
<html>
  <head>
    <title>Realtime WEA Alert Map</title>
    <meta charset="utf-8"/> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
      
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    
    <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css" />
      
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css" />
      
    <!-- Deprecated -->
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables@4.0.4/dist/js/tabulator.min.js"></script>
    <link href="https://unpkg.com/tabulator-tables@4.0.4/dist/css/tabulator_midnight.min.css" rel="stylesheet"/>
    <!-- /Deprecated -->
      
    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.9"></script>
      
    <script src="script/moment.js"></script>
    <script src="script/moment-timezone-with-data-2012-2022.min.js"></script> 
      
    <link rel="stylesheet" href="css/map.css">
 
  </head>
  <body >
      
      <!-- The Map itself -->
      <div id="map" class="map" style="{height:100%;z-index:-99;}" tabindex="0">
          <div id="logo"><img src="img/WARN-Logo-Blk-PBS-Web-Sized.png" ></div>
      </div>
      
      <!-- The heartbeat display -->
      <div id="hb"></div>
      
      <!-- Reset View to Default -->
      <button type="button" id="reset_view">Restore View</button>
      <script>
          $('#reset_view').click(function(){
              resetView();
          });
          reset_view.onmouseover = function(){
            reset_view.style.fontWeight = 'bold'; 
          }
          reset_view.onmouseout = function(){
            reset_view.style.fontWeight = 'normal';
          }
      </script>
      
      <!-- Set Current View as Default -->
      <button type="button" id="set_default">Save View</button>
      <script>
          $('#set_default').click(function(){
              setDefaultViewToCurrent();
          });
          set_default.onmouseover = function(){
            set_default.style.fontWeight = 'bold'; 
          }
          set_default.onmouseout = function(){
            set_default.style.fontWeight = 'normal';
          }
      </script>
      
      <!-- The Printer display --> 
      <div id="console_bg">
          <div id="console_window">
            <div id="console_text"></div>
        </div>
          <div id="msgId"></div>
      </div>
      <button type="button" id="texts">Printer</button>
      <script>
          texts.onmouseover = function(){
            texts.style.fontWeight = 'bold'; 
          }
          texts.onmouseout = function(){
            texts.style.fontWeight = 'normal';
          }
      </script>
      
      <!-- The tablular display --> 
      <div id="table_bg">
            <div id="table_window"></div>
            <div id="table_display"></div>
      </div>
      <button type="button" id="table">Table</button>
      <script>
          table.onmouseover = function(){
            table.style.fontWeight = 'bold'; 
          }
          table.onmouseout = function(){
            table.style.fontWeight = 'normal';
          }
      </script>
      
      <!-- The About This Map slideout -->
      <div id="about_display">
          
          <button type="button" id="about">About This Map</button>
          <script>
              $('#about').click(function(){
                  $('#slideout').toggleClass('on');
                  if ($('#about').html() == 'About This Map') {
                      $('#about').html('Hide Map Info');
                  } else {
                      $('#about').html('About This Map');
                  }
              });
              about.onmouseover = function(){
                about.style.fontWeight = 'bold'; 
              }
              about.onmouseout = function(){
                about.style.fontWeight = 'normal';
              }
          </script>

          <div id="slideout">
              <div id="about_text">
                  <center><h2>Current Wireless Emergency Alerts</h2></center>
                  <p>The latest public safety and homeland security Wireless Emergency Alerts (WEA) are broadcast nationwide by PBS, the Public Broadcasting Service, on behalf of the Federal Emergency Management Agency (FEMA) Integrated Public Alert and Warning System (IPAWS).</p>  
                  <p>Click on any individual alert marker to zoom in to the area affected.  Click on the area to see alert details.  Use your mouse or fingers to adjust the map view.  Click on 'Reset View' to revert to your previously saved default view.  The "Printer" is a continuous display of active alerts.  The "Table" is a list of active alerts, most recent at top.  Click on an item to view the details.</p>
                  <p><i>This information is provided as a convenience for responders and the public.  It is not guaranteed to be complete or error-free. Geographic outlines reflect the orignators' input target areas, actual alert coverage depends on cellular system implementation and may vary.</i></p><p>For information or with comments email: <a href="mailto:warn@pbs.org">warn@pbs.org</a>
              </div>
          </div>
           
      </div>
      
      
      <!-- and launch the monitor -->
      <script src="script/map.js"></script>
      
  </body>
</html>

